# Rewriting History

## Why We Need Rewrite History

- Squash small, related commits
- Split large commits
- Reword commit messages
- Drop unwanted commits
- Modify commits

**Caution**:_Commits are immutable and rewriting history is dangerous so we should be cautious about changing history_

## Golden Rules of Rewriting History

1. Don't rewrite public history

### undoing last commit

- soft: Removes the commit only
- mixed: Unstage files
- hard: Discards local changes

```zsh
git reset --hard HEAD~1
```

### Reverting Commit

```zsh
git revert HEAD~3..HEAD          # Revert from HEAD~2 to HEAD
git revert --hard HEAD~2         # Revert HEAD~2
git revert --no-commit HEAD~3..  # revert without commit
git revert --abort               # cancel revert
git revert --continue            # continue revert and add single commit for revert
```
